!function(){let e=window.location.hostname;if("localhost"===e||"127.0.0.1"===e||""===e){"file:"===window.location.protocol&&t();return}function t(){throw document.body.innerHTML=`
					<div style="display:flex; flex-direction:column; align-items:center; justify-content:center; height:100vh; background:#0f172a; color:white; font-family:sans-serif; text-align:center;">
						<h1 style="font-size:3rem; color:#ef4444;">â›” AKSES DITOLAK</h1>
						<p style="font-size:1.2rem; margin-top:1rem;">Aplikasi ini dilindungi Hak Cipta dan hanya dapat digunakan melalui website resmi.</p>
						<a href="https://ariestechlab.com" style="margin-top:2rem; padding:10px 20px; background:#10b981; color:white; text-decoration:none; border-radius:8px; font-weight:bold;">Buka Aries Tech Labs</a>
					</div>
				`,Error("Illegal execution environment detected.")}["ariestechlab.com","www.ariestechlab.com"].includes(e)||t()}();const canvas=document.getElementById("simCanvas"),ctx=canvas.getContext("2d"),monitorEl=document.getElementById("data-monitor"),PIXEL_SCALE=100,K_CONST=9e9,GRID_SIZE=40;let charges=[],isDragging=!1,selectedIdx=-1,nextId=1;function resize(){canvas.width=canvas.parentElement.offsetWidth,canvas.height=canvas.parentElement.offsetHeight,draw()}function updateSliderUI(e){let t=parseFloat(e);document.getElementById("charge-val-display").innerText=`${t>0?"+":""}${t.toFixed(1)} \xb5C`;let a=document.getElementById("btn-spawn");t>0?a.className=a.className.replace(/bg-\w+-600/,"bg-red-600").replace(/hover:bg-\w+-500/,"hover:bg-red-500").replace(/shadow-\w+-500/,"shadow-red-500"):t<0?a.className=a.className.replace(/bg-\w+-600/,"bg-blue-600").replace(/hover:bg-\w+-500/,"hover:bg-blue-500").replace(/shadow-\w+-500/,"shadow-blue-500"):a.className=a.className.replace(/bg-\w+-600/,"bg-slate-600").replace(/hover:bg-\w+-500/,"hover:bg-slate-500").replace(/shadow-\w+-500/,"shadow-slate-500")}function spawnCharge(){let e=parseFloat(document.getElementById("charge-slider").value);0!==e&&(charges.push({id:nextId++,x:canvas.width/2+(Math.random()-.5)*50,y:canvas.height/2+(Math.random()-.5)*50,q:e}),draw())}function resetSim(){charges=[],selectedIdx=-1,monitorEl.classList.add("opacity-0","translate-y-4"),draw()}function getMousePos(e){let t=canvas.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}function draw(){ctx.fillStyle="#020617",ctx.fillRect(0,0,canvas.width,canvas.height);let e=document.getElementById("show-vectors").checked,t=document.getElementById("show-ruler").checked,a=document.getElementById("show-forces").checked;if(e&&charges.length>0){ctx.beginPath();for(let l=0;l<canvas.width;l+=40)for(let c=0;c<canvas.height;c+=40){let n=0,s=0;for(let i of charges){let r=l-i.x,o=c-i.y,d=r*r+o*o,x=Math.sqrt(d);if(x<15)continue;let $=500*i.q/d;n+=$*(r/x),s+=$*(o/x)}let h=Math.hypot(n,s);if(h>.1){let g=Math.atan2(s,n),f=Math.min(1,h),m=Math.min(20,15*h);ctx.strokeStyle=`rgba(255,255,255,${.4*f})`,drawArrow(l,c,g,m)}}ctx.stroke()}if(-1!==selectedIdx&&charges[selectedIdx]){let y=charges[selectedIdx],_=0,p=0;for(let w=0;w<charges.length;w++){if(w===selectedIdx)continue;let b=charges[w],u=b.x-y.x,v=b.y-y.y,I=Math.hypot(u,v),E=.001*I;if(t){ctx.save(),ctx.beginPath(),ctx.setLineDash([5,5]),ctx.strokeStyle="#10b981",ctx.lineWidth=1,ctx.moveTo(y.x,y.y),ctx.lineTo(b.x,b.y),ctx.stroke();let q=(y.x+b.x)/2,T=(y.y+b.y)/2;ctx.fillStyle="#10b981",ctx.font="10px monospace",ctx.globalAlpha=1;let k=E<1?`${(100*E).toFixed(1)} cm`:`${E.toFixed(2)} m`;ctx.fillStyle="rgba(2, 6, 23, 0.8)";let S=ctx.measureText(k);ctx.fillRect(q-S.width/2-2,T-6,S.width+4,12),ctx.fillStyle="#10b981",ctx.fillText(k,q-S.width/2,T+3),ctx.restore()}let L=1e-6*y.q,B=1e-6*b.q,P=9e9*Math.abs(L*B)/(E*E),C=y.q*b.q>0,N=Math.atan2(v,u),A=C?N+Math.PI:N;_+=P*Math.cos(A),p+=P*Math.sin(A)}if(a){let D=Math.hypot(_,p);if(D>.01){let M=Math.atan2(p,_),z=Math.min(100,150*Math.log10(D+1));ctx.save(),ctx.translate(y.x,y.y),ctx.rotate(M),ctx.beginPath(),ctx.strokeStyle="white",ctx.fillStyle="white",ctx.lineWidth=3,ctx.moveTo(0,0),ctx.lineTo(z,0),ctx.stroke(),ctx.beginPath(),ctx.moveTo(z,0),ctx.lineTo(z-8,-4),ctx.lineTo(z-8,4),ctx.fill(),ctx.rotate(-M),ctx.fillStyle="#f43f5e",ctx.font="bold 12px sans-serif",ctx.fillText(`${D.toFixed(2)} N`,15,-15),ctx.restore()}}}for(let F=0;F<charges.length;F++){let H=charges[F],R=F===selectedIdx,W=H.q>0?"#ef4444":"#3b82f6",K=H.q>0?"rgba(239, 68, 68, 0.6)":"rgba(59, 130, 246, 0.6)";R&&(ctx.beginPath(),ctx.arc(H.x,H.y,22,0,2*Math.PI),ctx.strokeStyle="#ffffff",ctx.lineWidth=2,ctx.setLineDash([3,3]),ctx.stroke(),ctx.setLineDash([])),ctx.beginPath();let j=12+Math.min(20,Math.abs(H.q));ctx.arc(H.x,H.y,j,0,2*Math.PI),ctx.fillStyle=W,ctx.shadowColor=K,ctx.shadowBlur=15,ctx.fill(),ctx.shadowBlur=0,ctx.fillStyle="white",ctx.font="bold 10px sans-serif",ctx.textAlign="center",ctx.textBaseline="middle";let O=H.q>0?"+":"";ctx.fillText(`${O}${H.q}`,H.x,H.y)}}function drawArrow(e,t,a,l){ctx.save(),ctx.translate(e,t),ctx.rotate(a),ctx.beginPath(),ctx.moveTo(-l/2,0),ctx.lineTo(l/2,0),ctx.stroke(),ctx.restore()}function updateMonitor(){if(-1===selectedIdx)return;monitorEl.classList.remove("opacity-0","translate-y-4");let e=charges[selectedIdx];document.getElementById("mon-q").innerText=`${e.q>0?"+":""}${e.q} \xb5C`;let t=document.getElementById("mon-list");t.innerHTML="";let a=0,l=0;charges.forEach((c,n)=>{if(n===selectedIdx)return;let s=c.x-e.x,i=c.y-e.y,r=.001*Math.hypot(s,i),o=1e-6*e.q,d=1e-6*c.q,x=9e9*Math.abs(o*d)/(r*r),$=Math.atan2(i,s),h=e.q*c.q>0,g=h?$+Math.PI:$;a+=x*Math.cos(g),l+=x*Math.sin(g);let f=document.createElement("li");f.className="flex justify-between border-b border-slate-800 pb-1",f.innerHTML=`
                    <span>vs Charge ${n+1} (${c.q}\xb5C):</span>
                    <span class="text-emerald-400">${x.toFixed(2)} N</span>
                `,t.appendChild(f)});let c=Math.hypot(a,l);document.getElementById("mon-f").innerText=`${c.toFixed(2)} N`}window.addEventListener("resize",resize),window.addEventListener("load",()=>{resize(),charges.push({id:nextId++,x:canvas.width/2-150,y:canvas.height/2,q:2}),charges.push({id:nextId++,x:canvas.width/2+150,y:canvas.height/2,q:-2}),draw()}),canvas.addEventListener("mousedown",e=>{let{x:t,y:a}=getMousePos(e),l=-1;for(let c=0;c<charges.length;c++){let n=Math.hypot(charges[c].x-t,charges[c].y-a);if(n<20){l=c;break}}-1!==l?(isDragging=!0,selectedIdx=l,updateMonitor(),draw()):(selectedIdx=-1,monitorEl.classList.add("opacity-0","translate-y-4"),draw())}),canvas.addEventListener("mousemove",e=>{if(!isDragging||-1===selectedIdx)return;let{x:t,y:a}=getMousePos(e);charges[selectedIdx].x=t,charges[selectedIdx].y=a,updateMonitor(),draw()}),canvas.addEventListener("mouseup",()=>{isDragging=!1});