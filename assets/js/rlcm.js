!function(){let e=window.location.hostname;if("localhost"===e||"127.0.0.1"===e||""===e){"file:"===window.location.protocol&&a();return}function a(){throw document.body.innerHTML=`
					<div style="display:flex; flex-direction:column; align-items:center; justify-content:center; height:100vh; background:#0f172a; color:white; font-family:sans-serif; text-align:center;">
						<h1 style="font-size:3rem; color:#ef4444;">⛔ AKSES DITOLAK</h1>
						<p style="font-size:1.2rem; margin-top:1rem;">Aplikasi ini dilindungi Hak Cipta dan hanya dapat digunakan melalui website resmi.</p>
						<a href="https://ariestechlab.com" style="margin-top:2rem; padding:10px 20px; background:#10b981; color:white; text-decoration:none; border-radius:8px; font-weight:bold;">Buka Aries Tech Labs</a>
					</div>
				`,Error("Illegal execution environment detected.")}["ariestechlab.com","www.ariestechlab.com"].includes(e)||a()}();const scopeCanvas=document.getElementById("scopeCanvas"),phasorCanvas=document.getElementById("phasorCanvas"),scopeCtx=scopeCanvas.getContext("2d"),phasorCtx=phasorCanvas.getContext("2d"),circuitSelector=document.getElementById("circuit-selector"),circuitSvgPlaceholder=document.getElementById("circuit-svg-placeholder"),parallelNote=document.getElementById("parallel-note"),btnResonance=document.getElementById("btn-resonance"),sliderF=document.getElementById("slider-f"),sliderL=document.getElementById("slider-l"),sliderC=document.getElementById("slider-c"),sliderR=document.getElementById("slider-r"),containerL=document.getElementById("container-l"),containerC=document.getElementById("container-c"),dispF=document.getElementById("disp-f"),dispL=document.getElementById("disp-l"),dispC=document.getElementById("disp-c"),dispR=document.getElementById("disp-r"),valXL=document.getElementById("val-xl"),valXC=document.getElementById("val-xc"),valZ=document.getElementById("val-z"),valPhase=document.getElementById("val-phase"),valI=document.getElementById("val-i"),barI=document.getElementById("bar-i"),resBulb=document.getElementById("res-bulb"),resText=document.getElementById("res-text");let activeCircuit="series-rlc",params={f:50,L:.1,C:5e-5,R:50},t=0,traceV=[],traceI=[];const MAX_TRACE=300,SVGs={"series-rlc":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 100" class="w-full h-auto" stroke="currentColor" fill="none" stroke-width="2"><text x="10" y="20" fill="#94a3b8" font-size="10">SERIES RLC</text><path d="M20,50 H40" stroke="#34d399"/><circle cx="30" cy="50" r="8" stroke="#34d399"/><text x="24" y="53" fill="#34d399" font-size="10" font-weight="bold">~</text><path d="M40,50 l5,-5 l10,10 l10,-10 l10,10 l10,-10 l5,5 H100" stroke="#cbd5e1"/><text x="65" y="35" fill="#cbd5e1" font-size="10">R</text><path d="M100,50 q5,-10 10,0 t10,0 t10,0 t10,0 H150" stroke="#3b82f6"/><text x="120" y="35" fill="#3b82f6" font-size="10">L</text><path d="M150,50 H160 M160,40 V60 M170,40 V60 M170,50 H180" stroke="#ef4444"/><text x="162" y="35" fill="#ef4444" font-size="10">C</text><path d="M180,50 H190 V80 H10 V50 H20" stroke="#64748b"/></svg>',"parallel-rlc":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 100" class="w-full h-auto" stroke="currentColor" fill="none" stroke-width="2"><text x="10" y="20" fill="#94a3b8" font-size="10">PARALLEL RLC</text><path d="M20,50 H40" stroke="#34d399"/><circle cx="30" cy="50" r="8" stroke="#34d399"/><text x="24" y="53" fill="#34d399" font-size="10" font-weight="bold">~</text><path d="M40,50 H60 V30 H160 V50 H180" stroke="#64748b"/><path d="M60,50 V70 H160 V50" stroke="#64748b"/><path d="M180,50 H190 V90 H10 V50 H20" stroke="#64748b"/><path d="M80,30 V35 l-5,5 l10,10 l-10,10 l10,10 l-5,5 V70" stroke="#cbd5e1"/><text x="75" y="25" fill="#cbd5e1" font-size="10">R</text><path d="M110,30 V35 q-10,5 0,10 t0,10 t0,10 t0,5 V70" stroke="#3b82f6"/><text x="105" y="25" fill="#3b82f6" font-size="10">L</text><path d="M140,30 V45 M130,45 H150 M130,55 H150 M140,55 V70" stroke="#ef4444"/><text x="135" y="25" fill="#ef4444" font-size="10">C</text></svg>',"series-rc":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 100" class="w-full h-auto" stroke="currentColor" fill="none" stroke-width="2"><text x="10" y="20" fill="#94a3b8" font-size="10">SERIES RC</text><path d="M20,50 H40" stroke="#34d399"/><circle cx="30" cy="50" r="8" stroke="#34d399"/><text x="24" y="53" fill="#34d399" font-size="10" font-weight="bold">~</text><path d="M40,50 l5,-5 l10,10 l10,-10 l10,10 l10,-10 l5,5 H100" stroke="#cbd5e1"/><text x="65" y="35" fill="#cbd5e1" font-size="10">R</text><path d="M100,50 H120 M120,40 V60 M130,40 V60 M130,50 H150" stroke="#ef4444"/><text x="122" y="35" fill="#ef4444" font-size="10">C</text><path d="M150,50 H170 V80 H10 V50 H20" stroke="#64748b"/></svg>',"series-rl":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 100" class="w-full h-auto" stroke="currentColor" fill="none" stroke-width="2"><text x="10" y="20" fill="#94a3b8" font-size="10">SERIES RL</text><path d="M20,50 H40" stroke="#34d399"/><circle cx="30" cy="50" r="8" stroke="#34d399"/><text x="24" y="53" fill="#34d399" font-size="10" font-weight="bold">~</text><path d="M40,50 l5,-5 l10,10 l10,-10 l10,10 l10,-10 l5,5 H100" stroke="#cbd5e1"/><text x="65" y="35" fill="#cbd5e1" font-size="10">R</text><path d="M100,50 q5,-10 10,0 t10,0 t10,0 t10,0 H150" stroke="#3b82f6"/><text x="120" y="35" fill="#3b82f6" font-size="10">L</text><path d="M150,50 H170 V80 H10 V50 H20" stroke="#64748b"/></svg>'};function resize(){scopeCanvas.width=scopeCanvas.parentElement.offsetWidth,scopeCanvas.height=scopeCanvas.parentElement.offsetHeight,phasorCanvas.width=phasorCanvas.parentElement.offsetWidth,phasorCanvas.height=phasorCanvas.parentElement.offsetHeight}function updateCircuitUI(){circuitSvgPlaceholder.innerHTML=SVGs[activeCircuit],sliderL.disabled="series-rc"===activeCircuit,sliderC.disabled="series-rl"===activeCircuit,containerL.style.opacity=sliderL.disabled?.4:1,containerC.style.opacity=sliderC.disabled?.4:1;let e=activeCircuit.includes("rlc");btnResonance.style.display=e?"block":"none",parallelNote.style.display="parallel-rlc"===activeCircuit?"block":"none"}function loop(){updateParams();let e=calculateCircuitEngine();updateUI(e),drawScope(e),drawPhasor(e),t+=.06,requestAnimationFrame(loop)}function updateParams(){params.f=parseFloat(sliderF.value),params.L=parseFloat(sliderL.value)/1e3,params.C=parseFloat(sliderC.value)/1e6,params.R=parseFloat(sliderR.value),dispF.innerText=`${params.f} Hz`,dispL.innerText=`${(1e3*params.L).toFixed(0)} mH`,dispC.innerText=`${(1e6*params.C).toFixed(0)} \xb5F`,dispR.innerText=`${params.R} Ω`}function calculateCircuitEngine(){let e=2*Math.PI*params.f,a="series-rc"===activeCircuit?0:e*params.L,l="series-rl"===activeCircuit?0:1/(e*params.C),$,r,i;switch(activeCircuit){case"series-rlc":$=Math.sqrt(Math.pow(params.R,2)+Math.pow(a-l,2)),r=Math.atan2(a-l,params.R);break;case"series-rc":$=Math.sqrt(Math.pow(params.R,2)+Math.pow(l,2)),r=Math.atan2(-l,params.R);break;case"series-rl":$=Math.sqrt(Math.pow(params.R,2)+Math.pow(a,2)),r=Math.atan2(a,params.R);break;case"parallel-rlc":let s=100/params.R,n=100/a,o=100/l;$=100/(i=Math.sqrt(Math.pow(s,2)+Math.pow(o-n,2))),r=Math.atan2(-(o-n),s)}"parallel-rlc"!==activeCircuit&&(i=100/$);let c=i*("parallel-rlc"===activeCircuit?20:100);return{XL:a,XC:l,Z:$,phase:r,I_peak_visual:c,I_rms:i}}function drawScope(e){let a=scopeCanvas.width,l=scopeCanvas.height,$=l/2,r=Math.sin(t)*(.3*l),i=Math.sin(t-e.phase)*(.8*e.I_peak_visual);traceV.push(r),traceI.push(i),traceV.length>a&&(traceV.shift(),traceI.shift()),scopeCtx.clearRect(0,0,a,l),drawTrace(scopeCtx,traceV,"#34d399",$),drawTrace(scopeCtx,traceI,"#facc15",$)}function drawTrace(e,a,l,$){e.beginPath(),e.strokeStyle=l,e.lineWidth=2;for(let r=0;r<a.length;r++)e.lineTo(r,$-a[r]);e.stroke()}function drawPhasor(e){let a=phasorCtx,l=phasorCanvas.width,$=phasorCanvas.height,r=l/2,i=$/2;a.clearRect(0,0,l,$),a.strokeStyle="#475569",a.beginPath(),a.moveTo(0,i),a.lineTo(l,i),a.stroke(),a.beginPath(),a.moveTo(r,0),a.lineTo(r,$),a.stroke();let s=-t;drawVector(a,r,i,35,s,"#34d399");let n=Math.min(52.5,e.I_rms*("parallel-rlc"===activeCircuit?5:25));drawVector(a,r,i,n,s-e.phase,"#facc15")}function drawVector(e,a,l,$,r,i){e.save(),e.translate(a,l),e.rotate(r),e.beginPath(),e.moveTo(0,0),e.lineTo($,0),e.strokeStyle=i,e.lineWidth=2,e.stroke(),e.beginPath(),e.moveTo($,0),e.lineTo($-4,-3),e.lineTo($-4,3),e.fillStyle=i,e.fill(),e.restore()}function updateUI(e){valXL.innerText=activeCircuit.includes("rc")?"-":`${e.XL.toFixed(0)}Ω`,valXC.innerText=activeCircuit.includes("rl")&&!activeCircuit.includes("rlc")?"-":`${e.XC.toFixed(0)}Ω`,valZ.innerText=isFinite(e.Z)?`${e.Z.toFixed(0)}Ω`:"∞";let a=(180*e.phase/Math.PI).toFixed(1);valPhase.innerText=`${a}\xb0`,valI.innerText=`${e.I_rms.toFixed(2)} A`;let l="parallel-rlc"===activeCircuit?10:3,$=e.I_rms/l*100;barI.style.width=`${Math.min(100,$)}%`;let r=!1;if(activeCircuit.includes("rlc")){let i=e.XL/e.XC;r=i>.95&&i<1.05}r?(resBulb.className="w-4 h-4 rounded-full bg-emerald-500 shadow-[0_0_15px_rgba(16,185,129,0.8)] transition-all duration-300",resText.innerText="parallel-rlc"===activeCircuit?"RESONANCE (MIN I)":"RESONANCE (MAX I)",resText.className="text-xs font-bold text-emerald-400 animate-pulse"):(resBulb.className="w-4 h-4 rounded-full bg-slate-600 transition-all duration-300",resText.innerText="OFF",resText.className="text-xs font-bold text-slate-500")}function setResonance(){if(!activeCircuit.includes("rlc"))return;let e=1/(2*Math.PI*Math.sqrt(params.L*params.C));sliderF.value=Math.min(200,Math.max(10,e))}window.addEventListener("resize",resize),window.addEventListener("load",()=>{resize(),updateCircuitUI(),loop()}),circuitSelector.addEventListener("change",e=>{activeCircuit=e.target.value,updateCircuitUI(),traceV=[],traceI=[]});