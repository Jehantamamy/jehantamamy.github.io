let currentBands=4;const colorMap={0:"bg-black-band",1:"bg-brown-band",2:"bg-red-band",3:"bg-orange-band",4:"bg-yellow-band",5:"bg-green-band",6:"bg-blue-band",7:"bg-violet-band",8:"bg-grey-band",9:"bg-white-band","0.1":"bg-gold-band","0.01":"bg-silver-band",10:"bg-brown-band",100:"bg-red-band",1e3:"bg-orange-band",1e4:"bg-yellow-band",1e5:"bg-green-band",1e6:"bg-blue-band",1e7:"bg-purple-band","0.5":"bg-green-band","0.25":"bg-blue-band","0.05":"bg-grey-band"};function setBands(e){currentBands=e,[4,5,6].forEach(a=>{let d=document.getElementById(`btn-${a}`);a===e?d.className="px-4 py-2 text-xs font-bold rounded-md bg-sky-600 text-white shadow-lg transition-all":d.className="px-4 py-2 text-xs font-bold rounded-md text-slate-400 hover:text-white transition-all"});let a=document.getElementById("control-band-3"),d=document.getElementById("control-band-ppm"),t=document.getElementById("visual-band-3"),n=document.getElementById("visual-band-ppm");4===e?(a.classList.add("hidden"),d.classList.add("hidden"),t.classList.add("hidden"),n.classList.add("hidden")):5===e?(a.classList.remove("hidden"),d.classList.add("hidden"),t.classList.remove("hidden"),n.classList.add("hidden")):6===e&&(a.classList.remove("hidden"),d.classList.remove("hidden"),t.classList.remove("hidden"),n.classList.remove("hidden")),calculate()}function calculate(){let e=parseInt(document.getElementById("select-band-1").value),a=parseInt(document.getElementById("select-band-2").value),d=parseInt(document.getElementById("select-band-3").value),t=parseFloat(document.getElementById("select-band-mul").value),n=parseFloat(document.getElementById("select-band-tol").value),l=document.getElementById("select-band-ppm").value;updateVisualBand("visual-band-1",e),updateVisualBand("visual-band-2",a),updateVisualBand("visual-band-3",d),updateVisualBand("visual-band-mul",t),updateVisualBand("visual-band-tol",n),updateVisualBand("visual-band-ppm",l);let s=0;displayResult(s=4===currentBands?(10*e+a)*t:(100*e+10*a+d)*t,n)}function updateVisualBand(e,a){let d=document.getElementById(e);d.className=d.className.replace(/bg-[\w-]+-band/g,"");let t=colorMap[a.toString()]||"bg-black-band";d.classList.add(t),d.classList.add("band")}function displayResult(e,a){let d="";d=e>=1e6?(e/1e6).toFixed(2).replace(/\.00$/,"")+" MΩ":e>=1e3?(e/1e3).toFixed(2).replace(/\.00$/,"")+" kΩ":e.toFixed(2).replace(/\.00$/,"")+" Ω",document.getElementById("result-value").innerText=d,document.getElementById("result-tolerance").innerText=`\xb1 ${a}%`;let t=e*(a/100);document.getElementById("val-min").innerText=formatSimple(e-t),document.getElementById("val-max").innerText=formatSimple(e+t)}function formatSimple(e){return e>=1e6?(e/1e6).toFixed(2)+" MΩ":e>=1e3?(e/1e3).toFixed(2)+" kΩ":e.toFixed(1)+" Ω"}document.addEventListener("DOMContentLoaded",()=>{calculate()});